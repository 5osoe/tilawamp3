<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>تلاوة MP3 | استماع القرآن الكريم برواية حفص عن عاصم</title>
<meta name="description" content="موقع استماع القرآن الكريم بتجربة بسيطة وسهلة، مع دعم نخبة من القراء، وتشغيل مباشر بجودة عالية.">
<meta name="theme-color" content="#ffffff">
<link rel="manifest" href="manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="تلاوة MP3">
<link rel="apple-touch-icon" href="icon-192.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>
<div id="initLoader">
<div class="init-spinner"></div>
</div>
<div id="smartResumePopup">
<div class="sr-info">
<div class="sr-surah" id="srSurah">--</div>
<div class="sr-reciter" id="srReciter">--</div>
<div class="sr-meta">متوقف عند <span id="srTimeDisplay" style="font-family:sans-serif;font-weight:700;">00:00</span></div>
</div>
<div class="sr-actions">
<button class="sr-btn sr-btn-primary" onclick="confirmSmartResume()">متابعة</button>
<button class="sr-btn sr-btn-text" onclick="dismissSmartResume()">بدء من البداية</button>
</div>
</div>
<header>
<div class="container">
<div class="brand-block" onclick="openInfoModal()" title="معلومات عن الموقع">
<div class="logo-text">تلاوة MP3</div>
<div class="subtitle-text">برواية حفص عن عاصم</div>
</div>
<button id="reciterTriggerBtn" class="reciter-trigger-btn">
<span id="selectedReciterText">...</span>
<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
</button>
</div>
</header>
<main>
<div class="container">
<div class="search-container">
<input type="search" id="surahSearch" class="search-input" placeholder="بحث عن سورة..." autocomplete="off">
</div>
<ul id="surahList" class="surah-list">
</ul>
</div>
</main>
<div class="mini-player" id="miniPlayer" onclick="openFullPlayer()">
<div class="mini-player-content">
<button class="mini-btn-play" id="miniPlayBtn" onclick="event.stopPropagation(); togglePlay();">
<svg id="miniPlayIcon" width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
<svg id="miniPauseIcon" style="display:none;" width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
<span id="miniLoadingSpinner" class="mini-spinner" style="display:none;"></span>
</button>
<div class="mini-info">
<span class="mini-surah-name" id="miniSurahName">اختر سورة</span>
<span class="mini-hint">اضغط للتحكم الكامل</span>
</div>
</div>
</div>
<div class="full-player-overlay" id="fullPlayerModal">
<div class="fp-header">
<button class="btn-close-fp" onclick="closeFullPlayer()">
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
</button>
<span class="fp-title">مشغل التلاوة</span>
<button id="desktopShortcutsBtn" class="btn-close-fp" onclick="openShortcutsModal()" title="اختصارات لوحة المفاتيح">
<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
</button>
</div>
<div class="fp-content">
<div class="fp-info-section">
<div class="fp-surah-name" id="fpSurahName">--</div>
<div class="fp-reciter-name" id="fpReciterName">--</div>
</div>
<div class="fp-progress-section">
<input type="range" id="progressBar" value="0" min="0" max="100" step="0.1" style="--progress: 0%;">
<div class="fp-time-row">
<span id="currentTime">00:00</span>
<span id="duration">00:00</span>
</div>
</div>
<div class="fp-controls-section">
<button class="fp-btn-ctrl" id="prevBtn">
<svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
</button>
<button class="fp-btn-ctrl fp-btn-main" id="playBtn">
<svg id="playIcon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
<svg id="pauseIcon" style="display:none;" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
<span id="loadingSpinner" class="spinner" style="display:none;"></span>
</button>
<button class="fp-btn-ctrl" id="nextBtn">
<svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
</button>
</div>
<div class="fp-features-section">
<div class="feature-toggle" id="btnComfort">
<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 18v-6a9 9 0 0 1 18 0v6"></path></svg>
تحسين الصوت
</div>
<div class="feature-toggle" id="btnAutoPlay">
<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 2.1l4 4-4 4"/><path d="M3 12.2v-2a4 4 0 0 1 4-4h12.8M7 21.9l-4-4 4-4"/></svg>
تشغيل تلقائي
</div>
</div>
<div class="fp-stats-section" id="listeningStats">
وقت الاستماع اليوم: 0د
</div>
</div>
</div>
<div id="shortcutsModal" class="modal-overlay">
<div class="modal-content">
<div class="modal-header">
<h3 class="modal-title">اختصارات لوحة المفاتيح</h3>
<button onclick="closeShortcutsModal()" style="background:none; border:none; cursor:pointer;"><svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>
</div>
<div class="modal-body" style="padding: 0 24px 24px 24px;">
<div class="shortcuts-grid">
<div class="shortcut-row">
<span class="k-desc">تشغيل / إيقاف</span>
<span class="k-key">Space</span>
</div>
<div class="shortcut-row">
<span class="k-desc">تقدم 5 ثواني</span>
<span class="k-key">→</span>
</div>
<div class="shortcut-row">
<span class="k-desc">رجوع 5 ثواني</span>
<span class="k-key">←</span>
</div>
<div class="shortcut-row">
<span class="k-desc">رفع الصوت</span>
<span class="k-key">↑</span>
</div>
<div class="shortcut-row">
<span class="k-desc">خفض الصوت</span>
<span class="k-key">↓</span>
</div>
<div class="shortcut-row">
<span class="k-desc">كتم الصوت</span>
<span class="k-key">M</span>
</div>
<div class="shortcut-row">
<span class="k-desc">السورة التالية</span>
<span class="k-key">N</span>
</div>
<div class="shortcut-row">
<span class="k-desc">السورة السابقة</span>
<span class="k-key">B</span>
</div>
</div>
</div>
</div>
</div>
<div id="reciterModal" class="modal-overlay">
<div class="modal-content">
<div class="modal-header">
<h3 class="modal-title">قارئ التلاوة</h3>
<button id="closeModalBtn" style="background:none; border:none; cursor:pointer;"><svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>
</div>
<div style="padding:15px 24px; background:#fafafa; border-bottom:1px solid #eee;">
<input type="search" id="reciterSearch" class="search-input" style="padding:10px 14px; font-size:0.9rem;" placeholder="بحث..." autocomplete="off">
</div>
<div id="modalReciterList" class="modal-body"></div>
</div>
</div>
<div id="infoModal" class="modal-overlay">
<div class="modal-content">
<div class="modal-header">
<h3 class="modal-title">عن الموقع</h3>
<button onclick="closeInfoModal()" style="background:none; border:none; cursor:pointer;"><svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>
</div>
<div class="info-content-body" style="padding:24px; color:#636e72; line-height:1.8;">
<p><strong>تلاوة MP3</strong>: موقع إسلامي بسيط للاستماع للقرآن الكريم.</p>
<ul style="margin-top:10px; list-style:inside disc;">
<li>20 قارئاً من نخبة القراء.</li>
<li>تشغيل سريع ومباشر.</li>
<li>دعم اختصارات لوحة المفاتيح.</li>
</ul>
</div>
</div>
</div>
<audio id="audioPlayer" preload="metadata" crossorigin="anonymous"></audio>
<script src="script.js" defer></script>
</body>
</html>